(function(){function e(a,j){for(a=""+a;a.length<j;)a="0"+a;return a}function b(a,j){void 0===Date.prototype[a]&&(Date.prototype[a]=j)}var m="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),r="January,February,March,April,May,June,July,August,September,October,November,December".split(","),u="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),v="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),w={su:0,sun:0,sunday:0,mo:1,mon:1,monday:1,tu:2,tue:2,tuesday:2,we:3,wed:3,wednesday:3,
th:4,thu:4,thursday:4,fr:5,fri:5,friday:5,sa:6,sat:6,saturday:6},s=r.concat(m),t="su,sun,sunday,mo,mon,monday,tu,tue,tuesday,we,wed,wednesday,th,thu,thursday,fr,fri,friday,sa,sat,saturday".split(","),x={jan:0,january:0,feb:1,february:1,mar:2,march:2,apr:3,april:3,may:4,jun:5,june:5,jul:6,july:6,aug:7,august:7,sep:8,september:8,oct:9,october:9,nov:10,november:10,dec:11,december:11},y=[31,28,31,30,31,30,31,31,30,31,30,31],k=function(a,j,c,b){for(;b>=c;b--){var g=a.substring(j,j+b);if(g.length<c)break;
if(g.match(/^(\d+)$/))return g}return null},z=Date.parse,A=function(a,j){for(var a=a+"",j=j+"",c=0,b=0,g="",d="",e,p,h=new Date,i=h.getYear(),h=h.getMonth()+1,l=1,f=0,n=0,o=0,q="";b<j.length;){g=j.charAt(b);for(d="";j.charAt(b)===g&&b<j.length;)d+=j.charAt(b++);if("yyyy"===d||"yy"===d||"y"===d){"yyyy"===d&&(p=e=4);"yy"===d&&(p=e=2);"y"===d&&(e=2,p=4);i=k(a,c,e,p);if(null===i)return NaN;c+=i.length;2===i.length&&(i=70<i?1900+(i-0):2E3+(i-0))}else if("MMM"===d||"NNN"===d){for(g=h=0;g<s.length;g++){var m=
s[g];if(a.substring(c,c+m.length).toLowerCase()===m.toLowerCase()&&("MMM"===d||"NNN"===d&&11<g)){h=g+1;12<h&&(h-=12);c+=m.length;break}}if(1>h||12<h)return NaN}else if("EE"===d||"E"===d)for(d=0;d<t.length;d++){if(g=t[d],a.substring(c,c+g.length).toLowerCase()===g.toLowerCase()){c+=g.length;break}}else if("MM"===d||"M"===d){h=k(a,c,d.length,2);if(null===h||1>h||12<h)return NaN;c+=h.length}else if("dd"===d||"d"===d){l=k(a,c,d.length,2);if(null===l||1>l||31<l)return NaN;c+=l.length}else if("hh"===d||
"h"===d){f=k(a,c,d.length,2);if(null===f||1>f||12<f)return NaN;c+=f.length}else if("HH"===d||"H"===d){f=k(a,c,d.length,2);if(null===f||0>f||23<f)return NaN;c+=f.length}else if("KK"===d||"K"===d){f=k(a,c,d.length,2);if(null===f||0>f||11<f)return NaN;c+=f.length}else if("kk"===d||"k"===d){f=k(a,c,d.length,2);if(null===f||1>f||24<f)return NaN;c+=f.length;f--}else if("mm"===d||"m"===d){n=k(a,c,d.length,2);if(null===n||0>n||59<n)return NaN;c+=n.length}else if("ss"===d||"s"===d){o=k(a,c,d.length,2);if(null===
o||0>o||59<o)return NaN;c+=o.length}else if("a"===d){if("am"===a.substring(c,c+2).toLowerCase())q="AM";else if("pm"===a.substring(c,c+2).toLowerCase())q="PM";else return NaN;c+=2}else{if(a.substring(c,c+d.length)!==d)return NaN;c+=d.length}}if(c!==a.length)return NaN;if(2===h)if(0===i%4&&0!==i%100||0===i%400){if(29<l)return NaN}else if(28<l)return NaN;if((4===h||6===h||9===h||11===h)&&30<l)return NaN;12>f&&"PM"===q?f=f-0+12:11<f&&"AM"===q&&(f-=12);return(new Date(i,h-1,l,f,n,o)).getTime()};Date.parse=
function(a,b){if(b)return A(a,b);var c=z(a),e=0,g;if(isNaN(c)&&(g=/^(\d{4}|[+\-]\d{6})-(\d{2})-(\d{2})(?:[T ](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?))?/.exec(a)))"Z"!==g[8]&&(e=60*+g[10]+ +g[11],"+"===g[9]&&(e=0-e)),c=Date.UTC(+g[1],+g[2]-1,+g[3],+g[4],+g[5]+e,+g[6],+g[7].substr(0,3));return c};Date.today=function(){return(new Date).clearTime()};Date.UTCtoday=function(){return(new Date).clearUTCTime()};Date.tomorrow=function(){return Date.today().add({days:1})};
Date.UTCtomorrow=function(){return Date.UTCtoday().add({days:1})};Date.yesterday=function(){return Date.today().add({days:-1})};Date.UTCyesterday=function(){return Date.UTCtoday().add({days:-1})};Date.validateDay=function(a,b,c){var e=new Date(b,c,a);return e.getFullYear()===b&&e.getMonth()===c&&e.getDate()===a};Date.validateYear=function(a){return 0<=a&&9999>=a};Date.validateSecond=function(a){return 0<=a&&60>a};Date.validateMonth=function(a){return 0<=a&&12>a};Date.validateMinute=function(a){return 0<=
a&&60>a};Date.validateMillisecond=function(a){return 0<=a&&1E3>a};Date.validateHour=function(a){return 0<=a&&24>a};Date.compare=function(a,b){return a.valueOf()<b.valueOf()?-1:a.valueOf()>b.valueOf()?1:0};Date.equals=function(a,b){return a.valueOf()===b.valueOf()};Date.getDayNumberFromName=function(a){return w[a.toLowerCase()]};Date.getMonthNumberFromName=function(a){return x[a.toLowerCase()]};Date.isLeapYear=function(a){return 29===(new Date(a,1,29)).getDate()};Date.getDaysInMonth=function(a,b){return 1===
b?Date.isLeapYear(a)?29:28:y[b]};b("getMonthAbbr",function(){return m[this.getMonth()]});b("getMonthName",function(){return r[this.getMonth()]});b("getUTCOffset",function(){var a=e(Math.abs(this.getTimezoneOffset()/0.6),4);0<this.getTimezoneOffset()&&(a="-"+a);return a});b("toCLFString",function(){return e(this.getDate(),2)+"/"+this.getMonthAbbr()+"/"+this.getFullYear()+":"+e(this.getHours(),2)+":"+e(this.getMinutes(),2)+":"+e(this.getSeconds(),2)+" "+this.getUTCOffset()});b("toYMD",function(a){a=
"undefined"===typeof a?"-":a;return this.getUTCFullYear()+a+e(this.getUTCMonth()+1,2)+a+e(this.getUTCDate(),2)});b("toDBString",function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1,2)+"-"+e(this.getUTCDate(),2)+" "+e(this.getUTCHours(),2)+":"+e(this.getUTCMinutes(),2)+":"+e(this.getUTCSeconds(),2)});b("clearTime",function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this});b("clearUTCTime",function(){this.setUTCHours(0);this.setUTCMinutes(0);
this.setUTCSeconds(0);this.setUTCMilliseconds(0);return this});b("add",function(a){void 0!==a.milliseconds&&this.setMilliseconds(this.getMilliseconds()+a.milliseconds);void 0!==a.seconds&&this.setSeconds(this.getSeconds()+a.seconds);void 0!==a.minutes&&this.setMinutes(this.getMinutes()+a.minutes);void 0!==a.hours&&this.setHours(this.getHours()+a.hours);void 0!==a.days&&this.setDate(this.getDate()+a.days);void 0!==a.months&&this.setMonth(this.getMonth()+a.months);void 0!==a.years&&this.setFullYear(this.getFullYear()+
a.years);return this});b("addMilliseconds",function(a){return this.add({milliseconds:a})});b("addSeconds",function(a){return this.add({seconds:a})});b("addMinutes",function(a){return this.add({minutes:a})});b("addHours",function(a){return this.add({hours:a})});b("addDays",function(a){return this.add({days:a})});b("addWeeks",function(a){return this.add({days:7*a})});b("addMonths",function(a){return this.add({months:a})});b("addYears",function(a){return this.add({years:a})});b("setTimeToNow",function(){var a=
new Date;this.setMilliseconds(a.getMilliseconds());this.setSeconds(a.getSeconds());this.setMinutes(a.getMinutes());this.setHours(a.getHours())});b("clone",function(){return new Date(this.valueOf())});b("between",function(a,b){return this.valueOf()>=a.valueOf()&&this.valueOf()<=b.valueOf()});b("compareTo",function(a){return Date.compare(this,a)});b("equals",function(a){return Date.equals(this,a)});b("isAfter",function(a){a=a?a:new Date;return 0<this.compareTo(a)});b("isBefore",function(a){a=a?a:new Date;
return 0>this.compareTo(a)});b("getDaysBetween",function(a){return(a.clone().valueOf()-this.valueOf())/864E5|0});b("getHoursBetween",function(a){return(a.clone().valueOf()-this.valueOf())/36E5|0});b("getMinutesBetween",function(a){return(a.clone().valueOf()-this.valueOf())/6E4|0});b("getSecondsBetween",function(a){return(a.clone().valueOf()-this.valueOf())/1E3|0});b("getOrdinalNumber",function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864E5)+1});b("toFormat",function(a){var b=
[a],c,a=function(a,c){for(var e=0,k=b.length,h,i,l,f=[];e<k;e++)if("string"==typeof b[e]){l=b[e].split(a);for(h=0,i=l.length-1;h<i;h++)f.push(l[h]),f.push([c]);f.push(l[i])}else f.push(b[e]);b=f},k=this.getHours()%12?this.getHours()%12:12;a("YYYY",this.getFullYear());a("YY",(""+this.getFullYear()).slice(-2));a("MMMM",r[this.getMonth()]);a("MMM",m[this.getMonth()]);a("MM",e(this.getMonth()+1,2));a("MI",e(this.getMinutes(),2));a("M",this.getMonth()+1);a("DDDD",v[this.getDay()]);a("DDD",u[this.getDay()]);
a("DD",e(this.getDate(),2));a("D",this.getDate());a("HH24",e(this.getHours(),2));a("HH",e(k,2));a("H",k);a("SS",e(this.getSeconds(),2));a("PP",12<=this.getHours()?"PM":"AM");a("P",12<=this.getHours()?"pm":"am");a("LL",e(this.getMilliseconds(),3));for(a=b.length;c<a;c++);return b.join("")})})();